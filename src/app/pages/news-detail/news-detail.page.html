<ng-container *ngIf="article; else notFound">
  <article class="article">
    <header class="article__header">
      <div class="article__meta">
        <span class="article__category">{{ article.category }}</span>
        <span class="article__dot">•</span>
        <time [attr.datetime]="article.dateTime || null">{{ article.dateLabel }}</time>
        <span class="article__badge" *ngIf="article.badge">{{ article.badge }}</span>
      </div>
      <h1 class="article__title">{{ article.title }}</h1>
      <p class="article__subtitle" *ngIf="article.subtitle">{{ article.subtitle }}</p>
      <p class="article__excerpt">{{ article.excerpt }}</p>
      <div class="article__byline" *ngIf="article.author">
        <span class="article__by">Por <strong>{{ article.author }}</strong></span>
      </div>
      <div class="article__timestamp">
        <time [attr.datetime]="article.dateTime || null">{{ article.dateLabel }}</time>
        <span class="article__dot">•</span>
        <span class="article__update">
          {{ article.updatedAt ? ('Atualizado em ' + article.updatedAt) : 'Atualizado há pouco' }}
        </span>
      </div>
      <div class="article__actions" aria-label="Compartilhar">
        <button type="button" class="article__action">
          <i class="fa-brands fa-facebook-f" aria-hidden="true"></i>
          <span>Facebook</span>
        </button>
        <button type="button" class="article__action">
          <i class="fa-brands fa-whatsapp" aria-hidden="true"></i>
          <span>WhatsApp</span>
        </button>
        <button type="button" class="article__action">
          <i class="fa-solid fa-share-nodes" aria-hidden="true"></i>
          <span>Compartilhar</span>
        </button>
      </div>
    </header>

    <figure class="article__figure">
      <img class="article__image" [src]="article.image" [alt]="article.title" loading="lazy" />
    </figure>

    <section
      class="article__content"
      *ngIf="paragraphs(article.content) as mainParagraphs"
    >
      <p *ngFor="let paragraph of mainParagraphs">{{ paragraph }}</p>
    </section>

    <section class="article__media-text" *ngIf="article.featureBlock as block">
      <div class="article__media-text__media">
        <img [src]="block.image" [alt]="block.title" loading="lazy" />
      </div>
      <div class="article__media-text__body">
        <h3>{{ block.title }}</h3>
        <p>{{ block.body }}</p>
      </div>
    </section>

     <section
      class="article__content article__content--secondary"
      *ngIf="paragraphs(article.content2) as extraParagraphs"
    >
      <p *ngFor="let paragraph of extraParagraphs">{{ paragraph }}</p>
    </section>

    <a class="article__back" routerLink="/">← Voltar para a home</a>
  </article>
</ng-container>

<ng-template #notFound>
  <section class="article article--empty">
    <h2>Notícia não encontrada</h2>
    <p>Essa matéria não existe ou foi removida.</p>
    <a class="article__back" routerLink="/">Voltar para a home</a>
  </section>
</ng-template>
